# ğŸ¬ CinÃ©Reserve - Projet Express.js

## ğŸ“ Structure du Projet

```
cine-reserve/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ database.js          # Configuration et lecture des fichiers JSON
â”‚   â”‚
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ films.json           # Base de donnÃ©es des films
â”‚   â”‚   â”œâ”€â”€ users.json           # Base de donnÃ©es des utilisateurs
â”‚   â”‚   â””â”€â”€ reservations.json   # Base de donnÃ©es des rÃ©servations
â”‚   â”‚
â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â”œâ”€â”€ auth.middleware.js   # Middleware d'authentification
â”‚   â”‚   â”œâ”€â”€ logger.middleware.js # Middleware de logs
â”‚   â”‚   â””â”€â”€ error.middleware.js  # Middleware de gestion d'erreurs
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ films.routes.js      # Routes pour les films
â”‚   â”‚   â”œâ”€â”€ auth.routes.js       # Routes d'authentification
â”‚   â”‚   â””â”€â”€ reservations.routes.js # Routes pour les rÃ©servations
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ films.controller.js
â”‚   â”‚   â”œâ”€â”€ auth.controller.js
â”‚   â”‚   â””â”€â”€ reservations.controller.js
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ helpers.js           # Fonctions utilitaires
â”‚   â”‚
â”‚   â””â”€â”€ app.js                   # Configuration Express
â”‚
â”œâ”€â”€ server.js                    # Point d'entrÃ©e du serveur
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸš€ Installation

```bash
# Initialiser le projet
npm init -y

# Installer les dÃ©pendances
npm install express

# Installer les dÃ©pendances de dÃ©veloppement
npm install --save-dev nodemon

# DÃ©marrer le serveur
npm start

# Mode dÃ©veloppement
npm run dev
```

## ğŸ“ Configuration package.json

```json
{
  "name": "cine-reserve",
  "version": "1.0.0",
  "description": "Application de rÃ©servation de places de cinÃ©ma",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js"
  },
  "keywords": ["express", "cinema", "reservation"],
  "author": "Votre Nom",
  "license": "ISC",
  "dependencies": {
    "express": "^4.18.2"
  },
  "devDependencies": {
    "nodemon": "^3.0.1"
  }
}
```

## ğŸ§ª Tester l'API

### 1. RÃ©cupÃ©rer la liste des films
```bash
curl http://localhost:3000/api/films
```

### 2. S'inscrire
```bash
curl -X POST http://localhost:3000/api/signup \
  -H "Content-Type: application/json" \
  -d '{"username":"john","password":"test123"}'
```

### 3. Se connecter
```bash
curl -X POST http://localhost:3000/api/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"1234"}'
```

### 4. CrÃ©er une rÃ©servation
```bash
curl -X POST http://localhost:3000/api/reservations \
  -H "Content-Type: application/json" \
  -H "Authorization: admin" \
  -d '{"filmId":1}'
```

### 5. Voir ses rÃ©servations
```bash
curl http://localhost:3000/api/reservations \
  -H "Authorization: admin"
```

## ğŸ¯ FonctionnalitÃ©s ImplÃ©mentÃ©es

- âœ… Gestion des films (GET /api/films)
- âœ… Authentification (POST /api/login, POST /api/signup)
- âœ… RÃ©servations (POST /api/reservations, GET /api/reservations)
- âœ… Middlewares personnalisÃ©s (logger, auth, error handler)
- âœ… Base de donnÃ©es JSON
- âœ… Architecture MVC

## ğŸ” Utilisateur par dÃ©faut

- **Username**: admin
- **Password**: 1234
